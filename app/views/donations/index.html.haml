%h1 Donations

= form_tag({:controller => "donations", :action => "search_by_amount"}, :method => "get", :class => "navbar-search") do
  = text_field_tag(:amount, nil, {:class => "search-query",:placeholder => "Search by amount..."})
  = submit_tag("Search", :class => "btn-navbar")

= form_tag({:controller => "donations", :action => "search_by_amount_range"}, :method => "get", :class => "navbar-search") do
  = text_field_tag(:min, nil, {:class => "search-query",:placeholder => "Min Amount..."})
  = text_field_tag(:max, nil, {:class => "search-query",:placeholder => "Max Amount..."})
  = submit_tag("Search", :class => "btn-navbar")

= form_tag({:controller => "donations", :action => "search_by_date_range"}, :method => "get", :class => "navbar-search") do
  = text_field_tag(:start, nil, {:class => "search-query",:placeholder => "Start Date..."})
  = text_field_tag(:end, nil, {:class => "search-query",:placeholder => "End Date..."})
  = submit_tag("Search", :class => "btn-navbar")

%table.table.table-striped
  %thead
    %tr
      %th Date
      %th Donor Name
      %th Amount
      %th Payment Method
      %th Campaign
      %th Solicitation Method
  %tbody
    - @donations.each do |donation|
      %tr
        %td
          = link_to "#{donation.date}", donation
        %td
          = link_to "#{donation.donor.first_name} #{donation.donor.last_name}", donation.donor
        %td
          = donation.amount
        %td
          = donation.payment_method
        %td
          = donation.campaign
        %td
          = donation.solicitation_method
        %td
          = link_to 'Edit', edit_donation_path(donation)
          = link_to 'Delete', donation, confirm: 'Are you sure?', method: :delete
